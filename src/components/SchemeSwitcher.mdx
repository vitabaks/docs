import React, { useEffect, useState } from 'react';
import { useColorMode } from '@docusaurus/theme-common';

export default function SchemeSwitcher() {
  const { colorMode } = useColorMode();
  const [currentMode, setCurrentMode] = useState(null);

  useEffect(() => {
    setCurrentMode(colorMode);
  }, [colorMode]);

  if (currentMode === null) {
    return null;
  }

  return (
    <img
      src={
        currentMode === 'dark'
          ? require('@site/static/img/postgresql_cluster.dark_mode.png').default
          : require('@site/static/img/postgresql_cluster.png').default
      }
      alt="Scheme"
    />
  );
}
